import{c as z,j as e}from"./vendor-data-CT41_OUC.js";import{r as k}from"./vendor-react-DmZnaohN.js";import{p as O}from"./index-BjSJsRrv.js";import{m as w,F as b,G as C,aP as Z,an as B,f as M,Y as $,a4 as U,a2 as I,aQ as P,am as L,ar as Q,al as E,aR as W}from"./vendor-ui-BhBjGea0.js";const G=[{id:"1",name:"Documents",type:"folder",size:0,path:"/Documents",isStarred:!1,isShared:!1,tags:[],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-02-01T10:00:00Z",lastAccessed:"2024-02-10T10:00:00Z",owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0}},{id:"2",name:"Project Proposal.pdf",type:"file",size:2048576,mimeType:"application/pdf",extension:"pdf",parentId:"1",path:"/Documents/Project Proposal.pdf",isStarred:!0,isShared:!0,tags:["work","important"],createdAt:"2024-02-01T10:00:00Z",updatedAt:"2024-02-01T10:00:00Z",lastAccessed:"2024-02-10T10:00:00Z",owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0},downloadUrl:"#"},{id:"3",name:"Images",type:"folder",size:0,path:"/Images",isStarred:!1,isShared:!1,tags:[],createdAt:"2024-01-10T10:00:00Z",updatedAt:"2024-02-05T10:00:00Z",lastAccessed:"2024-02-08T10:00:00Z",owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0}},{id:"4",name:"vacation-photo.jpg",type:"file",size:1536e3,mimeType:"image/jpeg",extension:"jpg",parentId:"3",path:"/Images/vacation-photo.jpg",isStarred:!1,isShared:!1,tags:["personal","vacation"],createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",lastAccessed:"2024-02-05T10:00:00Z",owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0},thumbnail:"https://images.pexels.com/photos/1591373/pexels-photo-1591373.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2"},{id:"5",name:"presentation.pptx",type:"file",size:5242880,mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx",path:"/presentation.pptx",isStarred:!0,isShared:!1,tags:["work","presentation"],createdAt:"2024-02-05T10:00:00Z",updatedAt:"2024-02-08T10:00:00Z",lastAccessed:"2024-02-10T10:00:00Z",owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0}}],H=z()(O((l,d)=>({files:G,currentPath:"/",selectedFiles:[],uploads:{},view:{type:"list",sortBy:"name",sortOrder:"asc",showHidden:!1},searchQuery:"",navigateToPath:s=>{l({currentPath:s,selectedFiles:[]})},navigateUp:()=>{const s=d().currentPath;if(s==="/")return;const a=s.split("/").filter(Boolean);a.pop();const r=a.length>0?"/"+a.join("/"):"/";l({currentPath:r,selectedFiles:[]})},createFolder:(s,a)=>{const r=a||d().currentPath,i=r==="/"?`/${s}`:`${r}/${s}`,p={id:Math.random().toString(36).substr(2,9),name:s,type:"folder",size:0,path:i,isStarred:!1,isShared:!1,tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastAccessed:new Date().toISOString(),owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0}};l(h=>({files:[...h.files,p]}))},uploadFile:(s,a)=>{const r=a||d().currentPath,i=r==="/"?`/${s.name}`:`${r}/${s.name}`,p=Math.random().toString(36).substr(2,9);l(u=>({uploads:{...u.uploads,[p]:{file:s,progress:0,status:"uploading"}}}));const h=setInterval(()=>{const u=d().uploads[p];if(!u){clearInterval(h);return}const x=Math.min(u.progress+10,100);if(l(g=>({uploads:{...g.uploads,[p]:{...u,progress:x,status:x===100?"completed":"uploading"}}})),x===100){clearInterval(h);const g={id:Math.random().toString(36).substr(2,9),name:s.name,type:"file",size:s.size,mimeType:s.type,extension:s.name.split(".").pop(),path:i,isStarred:!1,isShared:!1,tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastAccessed:new Date().toISOString(),owner:"user@example.com",permissions:{read:!0,write:!0,delete:!0,share:!0}};l(f=>({files:[...f.files,g]})),setTimeout(()=>{l(f=>{const{[p]:F,...y}=f.uploads;return{uploads:y}})},2e3)}},200)},renameFile:(s,a)=>{l(r=>({files:r.files.map(i=>{if(i.id===s){const p=i.path.split("/");return p[p.length-1]=a,{...i,name:a,path:p.join("/"),updatedAt:new Date().toISOString()}}return i})}))},moveFile:(s,a)=>{l(r=>({files:r.files.map(i=>i.id===s?{...i,path:a,updatedAt:new Date().toISOString()}:i)}))},deleteFile:s=>{l(a=>({files:a.files.filter(r=>r.id!==s),selectedFiles:a.selectedFiles.filter(r=>r!==s)}))},toggleStar:s=>{l(a=>({files:a.files.map(r=>r.id===s?{...r,isStarred:!r.isStarred,updatedAt:new Date().toISOString()}:r)}))},shareFile:(s,a)=>{l(r=>({files:r.files.map(i=>i.id===s?{...i,isShared:!0,permissions:{...i.permissions,...a},updatedAt:new Date().toISOString()}:i)}))},selectFile:s=>{l(a=>({selectedFiles:a.selectedFiles.includes(s)?a.selectedFiles.filter(r=>r!==s):[...a.selectedFiles,s]}))},selectMultiple:s=>{l({selectedFiles:s})},clearSelection:()=>{l({selectedFiles:[]})},setView:s=>{l(a=>({view:{...a.view,...s}}))},setSearchQuery:s=>{l({searchQuery:s})},getFilesInPath:s=>{const a=d().files;return s==="/"?a.filter(r=>!r.parentId):a.filter(r=>r.path.startsWith(s)&&r.path!==s)},getFileById:s=>d().files.find(a=>a.id===s),getFilesByType:s=>d().files.filter(a=>a.mimeType?.startsWith(s)),getStarredFiles:()=>d().files.filter(s=>s.isStarred),getSharedFiles:()=>d().files.filter(s=>s.isShared)}),{name:"files-storage",partialize:l=>({files:l.files,view:l.view})}));function R(){const{files:l,currentPath:d,selectedFiles:s,view:a,searchQuery:r,navigateToPath:i,navigateUp:p,selectFile:h,toggleStar:u,deleteFile:x,setView:g,setSearchQuery:f,getFilesInPath:F}=H(),[y,v]=k.useState(!1),j=F(d),N=[...r?j.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())||t.tags.some(n=>n.toLowerCase().includes(r.toLowerCase()))):j].sort((t,n)=>{const{sortBy:o,sortOrder:m}=a;let c=0;switch(o){case"name":c=t.name.localeCompare(n.name);break;case"size":c=t.size-n.size;break;case"date":c=new Date(t.updatedAt).getTime()-new Date(n.updatedAt).getTime();break;case"type":c=(t.type+(t.extension||"")).localeCompare(n.type+(n.extension||""));break}return m==="asc"?c:-c}),S=t=>{if(t===0)return"0 B";const n=1024,o=["B","KB","MB","GB"],m=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,m)).toFixed(2))+" "+o[m]},T=t=>t.type==="folder"?b:t.mimeType?.startsWith("image/")?"🖼️":t.mimeType?.startsWith("video/")?"🎥":t.mimeType?.startsWith("audio/")?"🎵":t.mimeType?.includes("pdf")?"📄":t.mimeType?.includes("document")||t.mimeType?.includes("text")?"📝":t.mimeType?.includes("spreadsheet")?"📊":t.mimeType?.includes("presentation")?"📽️":W,D=t=>{t.preventDefault(),v(!1),Array.from(t.dataTransfer.files).forEach(o=>{console.log("Uploading file:",o.name)})},A=d.split("/").filter(Boolean);return e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card rounded-xl p-6",onDragOver:t=>{t.preventDefault(),v(!0)},onDragLeave:()=>v(!1),onDrop:D,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"File Explorer"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g({type:a.type==="list"?"grid":"list"}),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:a.type==="list"?e.jsx(C,{className:"w-4 h-4 text-slate-400 hover:text-white"}):e.jsx(Z,{className:"w-4 h-4 text-slate-400 hover:text-white"})}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:[e.jsx(B,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm",children:"Upload"})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",value:r,onChange:t=>f(t.target.value),placeholder:"Search files and folders...",className:"w-full pl-10 pr-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsxs("button",{onClick:()=>i("/"),className:"flex items-center space-x-1 text-slate-400 hover:text-white transition-colors",children:[e.jsx($,{className:"w-3 h-3"}),e.jsx("span",{children:"Home"})]}),A.map((t,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-3 h-3 text-slate-500"}),e.jsx("button",{onClick:()=>i("/"+A.slice(0,n+1).join("/")),className:"text-slate-400 hover:text-white transition-colors",children:t})]},n))]})]}),e.jsx("div",{className:`${y?"border-2 border-dashed border-blue-500 bg-blue-500/10":""} rounded-lg transition-all`,children:a.type==="list"?e.jsx("div",{className:"space-y-2",children:N.map((t,n)=>{const o=T(t),m=s.includes(t.id);return e.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:n*.05},className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-all group ${m?"bg-blue-600/20 border border-blue-500/50":"hover:bg-slate-800/50"}`,onClick:()=>{t.type==="folder"?i(t.path):h(t.id)},children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[typeof o=="string"?e.jsx("span",{className:"text-lg",children:o}):e.jsx(o,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-400",children:[e.jsx("span",{children:t.type==="folder"?"Folder":S(t.size)}),e.jsx("span",{children:new Date(t.updatedAt).toLocaleDateString()}),t.tags.length>0&&e.jsx("div",{className:"flex space-x-1",children:t.tags.slice(0,2).map(c=>e.jsx("span",{className:"bg-slate-700 px-1 py-0.5 rounded text-xs",children:c},c))})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:c=>{c.stopPropagation(),u(t.id)},className:"p-1 hover:bg-slate-700 rounded transition-colors",children:e.jsx(I,{className:`w-3 h-3 ${t.isStarred?"text-yellow-400 fill-current":"text-slate-400"}`})}),t.isShared&&e.jsx(P,{className:"w-3 h-3 text-emerald-400"}),e.jsx("button",{className:"p-1 hover:bg-slate-700 rounded transition-colors",children:e.jsx(L,{className:"w-3 h-3 text-slate-400 hover:text-white"})}),e.jsx("button",{className:"p-1 hover:bg-slate-700 rounded transition-colors",children:e.jsx(Q,{className:"w-3 h-3 text-slate-400 hover:text-white"})}),e.jsx("button",{onClick:c=>{c.stopPropagation(),x(t.id)},className:"p-1 hover:bg-red-600/20 rounded transition-colors",children:e.jsx(E,{className:"w-3 h-3 text-slate-400 hover:text-red-400"})})]})]},t.id)})}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:N.map((t,n)=>{const o=T(t),m=s.includes(t.id);return e.jsx(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.05},className:`p-4 rounded-lg cursor-pointer transition-all group ${m?"bg-blue-600/20 border border-blue-500/50":"hover:bg-slate-800/50"}`,onClick:()=>{t.type==="folder"?i(t.path):h(t.id)},children:e.jsxs("div",{className:"text-center",children:[t.thumbnail?e.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-12 h-12 object-cover rounded mx-auto mb-2"}):typeof o=="string"?e.jsx("div",{className:"text-3xl mb-2",children:o}):e.jsx(o,{className:"w-12 h-12 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-white truncate",children:t.name}),e.jsx("p",{className:"text-xs text-slate-400",children:t.type==="folder"?"Folder":S(t.size)}),e.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.isStarred&&e.jsx(I,{className:"w-3 h-3 text-yellow-400 fill-current"}),t.isShared&&e.jsx(P,{className:"w-3 h-3 text-emerald-400"})]})]})},t.id)})})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 mb-2",children:r?"No files match your search":"This folder is empty"}),e.jsx("p",{className:"text-sm text-slate-500",children:r?"Try a different search term":"Drag and drop files here or click Upload"})]}),e.jsx("div",{className:"mt-6 p-4 bg-slate-800/30 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Total Items:"}),e.jsx("span",{className:"text-white ml-2",children:j.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Selected:"}),e.jsx("span",{className:"text-white ml-2",children:s.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Total Size:"}),e.jsx("span",{className:"text-white ml-2",children:S(j.reduce((t,n)=>t+n.size,0))})]})]})})]})}function X(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Files"}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Organize, share, and manage your files with ease"})]}),e.jsx(R,{})]})}export{X as Files};
