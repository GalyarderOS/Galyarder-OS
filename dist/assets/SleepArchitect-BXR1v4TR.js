import{j as e,m as o,a as p,ap as u,av as y,a2 as b,E as k,J as j,u as P,aX as N,a1 as A,b as q}from"./vendor-ui-BQ6OKYYy.js";import{r as D}from"./vendor-react-e7mDCNqr.js";import{c as L}from"./vendor-data-BKSLGP1V.js";import{p as R}from"./index-DBMFoUHF.js";import{C as x}from"./CrudList-6Q9bOQqD.js";const $=[{id:"1",date:"2024-02-10",bedTime:"22:30",sleepTime:"23:00",wakeTime:"07:00",duration:480,quality:8.5,phases:[{type:"light",startTime:"23:00",duration:60},{type:"deep",startTime:"00:00",duration:120},{type:"rem",startTime:"02:00",duration:90},{type:"light",startTime:"03:30",duration:90},{type:"deep",startTime:"05:00",duration:60},{type:"light",startTime:"06:00",duration:60}],notes:"Good sleep quality, felt refreshed",environment:{temperature:19,humidity:45,noise:25},recovery:{hrv:45,restingHR:52,bodyBattery:85}},{id:"2",date:"2024-02-09",bedTime:"23:00",sleepTime:"23:30",wakeTime:"06:45",duration:435,quality:7.2,phases:[{type:"light",startTime:"23:30",duration:45},{type:"deep",startTime:"00:15",duration:105},{type:"rem",startTime:"02:00",duration:75},{type:"light",startTime:"03:15",duration:120},{type:"rem",startTime:"05:15",duration:90}],environment:{temperature:20,humidity:50,noise:30},recovery:{hrv:38,restingHR:55,bodyBattery:78}}],B=[{id:"1",name:"Standard Monophasic",type:"monophasic",schedule:[{id:"1",name:"Core Sleep",startTime:"23:00",duration:480,type:"core"}],totalSleep:480,isActive:!0,createdAt:"2024-01-15"},{id:"2",name:"Everyman 3",type:"polyphasic",schedule:[{id:"1",name:"Core Sleep",startTime:"01:00",duration:210,type:"core"},{id:"2",name:"Nap 1",startTime:"09:00",duration:20,type:"nap"},{id:"3",name:"Nap 2",startTime:"14:00",duration:20,type:"nap"},{id:"4",name:"Nap 3",startTime:"21:00",duration:20,type:"nap"}],totalSleep:270,isActive:!1,createdAt:"2024-01-20"}],W=[{id:"1",name:"Gentle Sunrise",steps:[{id:"1",name:"Gradual Light",duration:30,type:"light",intensity:50},{id:"2",name:"Nature Sounds",duration:10,type:"sound",intensity:30},{id:"3",name:"Gentle Vibration",duration:5,type:"vibration",intensity:20}],duration:45,isActive:!0}],m=L()(R((l,d)=>({sessions:$,cycles:B,wakeProtocols:W,currentCycle:"1",addSession:a=>{const s={...a,id:Math.random().toString(36).substr(2,9)};l(i=>({sessions:[...i.sessions,s]}))},updateSession:(a,s)=>{l(i=>({sessions:i.sessions.map(r=>r.id===a?{...r,...s}:r)}))},deleteSession:a=>{l(s=>({sessions:s.sessions.filter(i=>i.id!==a)}))},addCycle:a=>{const s={...a,id:Math.random().toString(36).substr(2,9),createdAt:new Date().toISOString()};l(i=>({cycles:[...i.cycles,s]}))},updateCycle:(a,s)=>{l(i=>({cycles:i.cycles.map(r=>r.id===a?{...r,...s}:r)}))},deleteCycle:a=>{l(s=>({cycles:s.cycles.filter(i=>i.id!==a),currentCycle:s.currentCycle===a?null:s.currentCycle}))},activateCycle:a=>{l(s=>({cycles:s.cycles.map(i=>({...i,isActive:i.id===a})),currentCycle:a}))},addWakeProtocol:a=>{const s={...a,id:Math.random().toString(36).substr(2,9)};l(i=>({wakeProtocols:[...i.wakeProtocols,s]}))},updateWakeProtocol:(a,s)=>{l(i=>({wakeProtocols:i.wakeProtocols.map(r=>r.id===a?{...r,...s}:r)}))},deleteWakeProtocol:a=>{l(s=>({wakeProtocols:s.wakeProtocols.filter(i=>i.id!==a)}))}}),{name:"sleep-architect-storage"}));function M(){const{sessions:l}=m(),d=t=>{const n=Math.floor(t/60),c=t%60;return`${n}h ${c}m`},a=t=>t>=8?"text-emerald-400":t>=6?"text-amber-400":"text-red-400",s=l.reduce((t,n)=>t+n.quality,0)/l.length,i=l.reduce((t,n)=>t+n.duration,0)/l.length,r=l.reduce((t,n)=>t+n.recovery.bodyBattery,0)/l.length;return e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(p,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sleep Log"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[e.jsx(u,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm",children:"Log Sleep"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center",children:[e.jsx(y,{className:"w-5 h-5 text-emerald-400 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-bold text-white",children:s.toFixed(1)}),e.jsx("p",{className:"text-xs text-slate-400",children:"Avg Quality"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center",children:[e.jsx(p,{className:"w-5 h-5 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-bold text-white",children:d(i)}),e.jsx("p",{className:"text-xs text-slate-400",children:"Avg Duration"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center",children:[e.jsx(b,{className:"w-5 h-5 text-amber-400 mx-auto mb-2"}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[Math.round(r),"%"]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Recovery"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:"Recent Sessions"}),l.slice(0,5).map((t,n)=>e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1+n*.1},className:"p-4 bg-slate-800/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:new Date(t.date).toLocaleDateString()}),e.jsxs("p",{className:"text-xs text-slate-400",children:[t.bedTime," - ",t.wakeTime]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-medium ${a(t.quality)}`,children:[t.quality,"/10"]}),e.jsx("p",{className:"text-xs text-slate-400",children:d(t.duration)})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"w-3 h-3 text-red-400"}),e.jsxs("span",{className:"text-slate-300",children:[t.recovery.restingHR," bpm"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-3 h-3 text-emerald-400"}),e.jsxs("span",{className:"text-slate-300",children:["HRV ",t.recovery.hrv]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"w-3 h-3 text-amber-400"}),e.jsxs("span",{className:"text-slate-300",children:[t.recovery.bodyBattery,"%"]})]})]}),t.notes&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2 italic",children:['"',t.notes,'"']})]},t.id))]}),e.jsx("div",{className:"mt-6 p-3 bg-blue-600/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-300",children:"😴 Your sleep quality has improved 15% this month. Keep up the consistent schedule!"})})]})}function H(){const{cycles:l,currentCycle:d,activateCycle:a}=m(),s=t=>{const n=Math.floor(t/60),c=t%60;return`${n}h ${c}m`},i=t=>{switch(t){case"monophasic":return"text-blue-400";case"biphasic":return"text-emerald-400";case"polyphasic":return"text-purple-400";default:return"text-slate-400"}},r=t=>t==="core"?"🛏️":"💤";return e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j,{className:"w-5 h-5 text-purple-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sleep Cycles"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:[e.jsx(u,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm",children:"New Cycle"})]})]}),e.jsx("div",{className:"space-y-4",children:l.map((t,n)=>e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1+n*.1},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${t.id===d?"border-purple-500 bg-purple-500/10":"border-slate-700 hover:border-slate-600 bg-slate-800/30"}`,onClick:()=>a(t.id),children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:t.name}),t.isActive&&e.jsx(P,{className:"w-4 h-4 text-emerald-400"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-400",children:[e.jsx("span",{className:`capitalize ${i(t.type)}`,children:t.type}),e.jsxs("span",{children:["Total: ",s(t.totalSleep)]}),e.jsxs("span",{children:[t.schedule.length," blocks"]})]})]})}),e.jsx("div",{className:"space-y-2",children:t.schedule.map((c,h)=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-slate-700/30 rounded",children:[e.jsx("span",{className:"text-sm",children:r(c.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:c.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:[c.startTime," • ",s(c.duration)]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${c.type==="core"?"bg-blue-600/20 text-blue-400":"bg-emerald-600/20 text-emerald-400"}`,children:c.type})]},c.id))})]},t.id))}),e.jsx("div",{className:"mt-6 p-3 bg-purple-600/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-purple-300",children:"⏰ Polyphasic sleep cycles can increase productivity but require strict adherence to schedule."})})]})}function F(){const{wakeProtocols:l}=m(),d=s=>({light:"💡",sound:"🔊",vibration:"📳",temperature:"🌡️"})[s]||"⚙️",a=s=>s>=70?"text-red-400":s>=40?"text-amber-400":"text-emerald-400";return e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-card rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"w-5 h-5 text-amber-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Wake Protocols"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1.5 bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors",children:[e.jsx(u,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm",children:"New Protocol"})]})]}),e.jsx("div",{className:"space-y-4",children:l.map((s,i)=>e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1+i*.1},className:`p-4 rounded-lg ${s.isActive?"border-2 border-amber-500 bg-amber-500/10":"bg-slate-800/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:[s.duration," minutes total"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.isActive&&e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),e.jsx("button",{className:"p-2 bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors",children:e.jsx(A,{className:"w-3 h-3 text-white"})}),e.jsx("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(q,{className:"w-3 h-3 text-slate-400 hover:text-white"})})]})]}),e.jsx("div",{className:"space-y-2",children:s.steps.map((r,t)=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-slate-700/30 rounded",children:[e.jsx("span",{className:"text-sm",children:d(r.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:r.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:[r.duration," min"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-medium ${a(r.intensity)}`,children:[r.intensity,"%"]}),e.jsx("p",{className:"text-xs text-slate-400 capitalize",children:r.type})]})]},r.id))})]},s.id))}),e.jsx("div",{className:"mt-6 p-3 bg-amber-600/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-amber-300",children:"🌅 Gradual wake protocols improve morning alertness and reduce sleep inertia."})})]})}function U(){const[l,d]=D.useState("dashboard"),{sessions:a,cycles:s,wakeProtocols:i,addSession:r,updateSession:t,deleteSession:n,addCycle:c,updateCycle:h,deleteCycle:v,addWakeProtocol:g,updateWakeProtocol:f,deleteWakeProtocol:w}=m(),C=[{name:"date",label:"Date",type:"date",required:!0,isListColumn:!0},{name:"bedTime",label:"Bed Time",type:"text",required:!0,isListColumn:!0},{name:"sleepTime",label:"Sleep Time",type:"text",required:!0},{name:"wakeTime",label:"Wake Time",type:"text",required:!0,isListColumn:!0},{name:"duration",label:"Duration (min)",type:"number",required:!0},{name:"quality",label:"Quality (1-10)",type:"number",required:!0,isListColumn:!0},{name:"notes",label:"Notes",type:"textarea"},{name:"environment.temperature",label:"Temperature (°C)",type:"number"},{name:"environment.humidity",label:"Humidity (%)",type:"number"},{name:"environment.noise",label:"Noise (dB)",type:"number"},{name:"recovery.hrv",label:"HRV",type:"number"},{name:"recovery.restingHR",label:"Resting Heart Rate",type:"number"},{name:"recovery.bodyBattery",label:"Body Battery (%)",type:"number"}],S=[{name:"name",label:"Cycle Name",type:"text",required:!0,isListColumn:!0},{name:"type",label:"Type",type:"select",options:[{value:"monophasic",label:"Monophasic"},{value:"biphasic",label:"Biphasic"},{value:"polyphasic",label:"Polyphasic"}],required:!0,isListColumn:!0},{name:"totalSleep",label:"Total Sleep (min)",type:"number",required:!0,isListColumn:!0},{name:"isActive",label:"Active",type:"checkbox",isListColumn:!0}],T=[{name:"name",label:"Protocol Name",type:"text",required:!0,isListColumn:!0},{name:"duration",label:"Duration (min)",type:"number",required:!0,isListColumn:!0},{name:"isActive",label:"Active",type:"checkbox",isListColumn:!0}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Sleep Architect"}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Optimize your sleep cycles and recovery for peak performance"})]}),e.jsxs("div",{className:"flex space-x-2 mb-6",children:[e.jsx("button",{onClick:()=>d("dashboard"),className:`px-4 py-2 rounded-lg transition-colors ${l==="dashboard"?"bg-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:"Dashboard"}),e.jsx("button",{onClick:()=>d("manage"),className:`px-4 py-2 rounded-lg transition-colors ${l==="manage"?"bg-blue-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:"Manage"})]}),l==="dashboard"?e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(M,{})}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(H,{}),e.jsx(F,{})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(x,{title:"Sleep Sessions",items:a,fields:C,onAdd:r,onUpdate:t,onDelete:n,icon:e.jsx(p,{className:"w-5 h-5 text-blue-400"}),color:"blue"}),e.jsx(x,{title:"Sleep Cycles",items:s,fields:S,onAdd:c,onUpdate:h,onDelete:v,icon:e.jsx(j,{className:"w-5 h-5 text-purple-400"}),color:"purple"}),e.jsx(x,{title:"Wake Protocols",items:i,fields:T,onAdd:g,onUpdate:f,onDelete:w,icon:e.jsx(N,{className:"w-5 h-5 text-amber-400"}),color:"amber"})]})]})}export{U as SleepArchitect};
